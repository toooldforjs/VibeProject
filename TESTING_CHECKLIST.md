# Чеклист тестирования перед выпуском

Используйте этот чеклист для проверки приложения перед тестированием пользователями. Отмечайте пункты по мере выполнения.

---

## Подготовка окружения

- [ ] Podman Desktop запущен
- [ ] Выполнены `npm install` в корне и в `server/`
- [ ] В `server/.env` заданы `DB_*`, `PORT`, `ENCRYPTION_KEY` (минимум 16 символов)
- [ ] Запуск: `npm run dev:all` (или по шагам: БД → backend → frontend)
- [ ] Backend отвечает на `http://localhost:3001/api/health` — `{ "status": "ok" }`
- [ ] Frontend открывается на `http://localhost:5173`

---

## Авторизация

- [ ] **Регистрация**: ввод email и пароля → успешная регистрация, переход на Dashboard
- [ ] **Регистрация (дубликат)**: повторная регистрация с тем же email → сообщение об ошибке
- [ ] **Вход**: корректный email/пароль → переход на Dashboard
- [ ] **Вход (неверный пароль)**: сообщение об ошибке, остаётесь на странице входа
- [ ] **Вход (несуществующий пользователь)**: сообщение об ошибке
- [ ] **Выход**: кнопка выхода → переход на страницу входа, при повторном заходе нужен логин
- [ ] **Сохранение сессии**: после перезагрузки страницы остаётесь авторизованным

---

## Настройки

- [ ] Открытие Настроек из меню профиля без ошибок
- [ ] Загрузка сохранённых настроек (если уже заполняли) — поля отображаются
- [ ] **Jira**: ввод тега проекта, PAT, Base URL → Сохранить → успешное уведомление
- [ ] **GigaChat**: ключ авторизации, версия API (GIGACHAT_API_PERS), модель, таймаут → Сохранить → успех
- [ ] **Системный промпт**: заполнение полей системного промпта → Сохранить
- [ ] **Контекст проекта**: переключение «Текст» / «Confluence»; при Confluence — URL, логин, пароль → Сохранить
- [ ] Сохранение без `ENCRYPTION_KEY` в `.env` → ожидаемая ошибка (напоминание про ключ)
- [ ] Пустые или невалидные поля (например, пустой PAT) → при сохранении отображается ошибка или валидация

---

## Dashboard (список задач)

- [ ] После входа и при заполненных настройках Jira загружается список задач (эпики/задачи)
- [ ] Отображаются тег проекта, предупреждения о незаполненных настройках (если что-то не заполнено)
- [ ] Клик по задаче открывает страницу задачи (`/issue/PROJECT-123`)
- [ ] При отсутствии настроек Jira или ошибке API показывается сообщение/ошибка, а не пустой экран
- [ ] Обновление списка (если есть кнопка обновления) работает

---

## Страница задачи (Issue Details)

- [ ] Загрузка задачи: отображаются ключ, заголовок, описание, статус, тип
- [ ] Ссылки в описании (если есть) отображаются кликабельно
- [ ] **Комментарии**: список комментариев загружается; добавление нового комментария → он появляется в списке
- [ ] Удаление комментария → комментарий исчезает из списка
- [ ] **Slop! (GigaChat)**:
  - Нажатие «Slop!» при заполненных настройках GigaChat запускает запрос
  - Появляется индикатор загрузки
  - Ответ отображается в модальном окне (Markdown рендерится)
  - Копирование в буфер (Markdown / текст) — уведомление об успехе
  - «Опубликовать в комментариях» — комментарий от имени Системы появляется в списке
- [ ] При незаполненных настройках GigaChat или ошибке API показывается сообщение об ошибке, приложение не падает
- [ ] Задача с ссылками на Confluence: при Slop! контент Confluence подставляется (если настроен Confluence); при ошибке Confluence — понятное сообщение или fallback

---

## Ошибки и устойчивость

- [ ] Неверный URL API (выключен backend): при действиях показываются ошибки, не белый экран
- [ ] Несуществующий маршрут API (например, GET `/api/unknown`) — backend возвращает 404 JSON
- [ ] При падении компонента React отображается экран Error Boundary («Что-то пошло не так») с кнопками «Повторить» / «На главную»
- [ ] В консоли браузера нет необработанных исключений при типичных действиях (вход, настройки, открытие задачи, Slop!)

---

## Рекомендуемые сценарии «на один прогон»

1. **Счастливый путь**: регистрация → вход → настройки (Jira + GigaChat + при необходимости Confluence) → Dashboard → открыть задачу → Slop! → скопировать ответ → добавить комментарий → выйти.
2. **Только Jira**: вход → только Jira в настройках → Dashboard → список задач и открытие задачи без Slop!.
3. **Ошибки**: неверный логин/пароль; сохранение настроек с пустым PAT; Slop! при незаполненном GigaChat — везде ожидаемые сообщения, без краша.

---

## Заметки тестировщика

(Здесь можно записывать версию сборки, дату прогона, найденные баги и комментарии.)

- Дата:
- Окружение (dev/staging):
- Замечания:
